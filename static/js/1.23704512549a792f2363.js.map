{"version":3,"sources":["webpack:///static/js/1.23704512549a792f2363.js","webpack:///./src/admin/views/localProds/allLocalProds.vue","webpack:///./src/admin/views/localProds/allLocalProds.vue?9525","webpack:///./src/admin/views/localProds/allLocalProds.vue?a598","webpack:///./src/admin/views/localProds/allLocalProds.vue?d49f","webpack:///src/admin/views/localProds/allLocalProds.vue"],"names":["webpackJsonp","6XPi","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_allLocalProds_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5577dc90_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_allLocalProds_vue__","normalizeComponent","__vue_styles__","Component","aTLI","exports","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","hblM","content","locals","jNAU","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","attrs","data","prods","prop","label","min-width","scopedSlots","_u","key","fn","scope","src","row","image","alt","type","on","click","$event","EditProd","$index","title","visible","dialogFormVisible","update:visible","ref","rules","prodrules","model","editprod","placeholder","callback","$$v","$set","expression","_n","imageUrl","url","height","fontSize","info","slot","exitEdit","submitEdit","staticRenderFns","esExports","yFxB","__WEBPACK_IMPORTED_MODULE_0__api_adminApi__","prodName","name","price","desc","required","message","trigger","min","max","methods","getallprods","_this","then","res","console","log","rowIndex","_this2","$refs","validate","valid","updatedParams","id","_id","qnupload","mdedit","mdinfo","$notify","offset","$message","mounted"],"mappings":"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","file":"static/js/1.23704512549a792f2363.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"6XPi\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_allLocalProds_vue__ = __webpack_require__(\"yFxB\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5577dc90_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_allLocalProds_vue__ = __webpack_require__(\"jNAU\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"hblM\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5577dc90\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_allLocalProds_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5577dc90_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_allLocalProds_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"aTLI\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".leftborder[data-v-5577dc90]{height:60px;border-left:4px solid rgba(12,65,38,.6);margin:0 15px;background-color:#f2f3f2;text-align:left;padding-left:20px;line-height:60px}@media screen and (max-width:768px){.leftborder[data-v-5577dc90]{margin:0 1px;height:45px;line-height:45px;padding-left:15px}}.learncontent[data-v-5577dc90]{margin:20px 15px;-webkit-box-shadow:0 0 5px rgba(12,65,38,.6);box-shadow:0 0 5px rgba(12,65,38,.6);border-radius:10px;padding:10px}@media screen and (max-width:768px){.learncontent[data-v-5577dc90]{margin:10px 1px;padding:2px}}.section .serchprod[data-v-5577dc90]{margin:20px 15px;-webkit-box-shadow:0 0 5px rgba(12,65,38,.6);box-shadow:0 0 5px rgba(12,65,38,.6);border-radius:10px;padding:10px}@media screen and (max-width:768px){.section .serchprod[data-v-5577dc90]{margin:10px 1px;padding:2px}}.section .serchprod .serch-input[data-v-5577dc90]{width:70%}.section .serchprod .serch-btn[data-v-5577dc90]{width:29%}.section .allprod[data-v-5577dc90]{margin:20px 15px;-webkit-box-shadow:0 0 5px rgba(12,65,38,.6);box-shadow:0 0 5px rgba(12,65,38,.6);border-radius:10px;padding:10px}@media screen and (max-width:768px){.section .allprod[data-v-5577dc90]{margin:10px 1px;padding:2px}}.section .allprod .table-image[data-v-5577dc90]{width:60px;height:60px;border-radius:30px}.section .el-form[data-v-5577dc90]{text-align:left}.section .el-form .el-select[data-v-5577dc90]{width:100%}.section .el-form .el-switch[data-v-5577dc90]{margin:10px 0 0}.section .el-form .prod-image[data-v-5577dc90]{width:200px;height:200px;border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.section .el-form .prod-image .cur-image[data-v-5577dc90]{width:100%}.section .el-form .prod-image .prod-uploader-icon[data-v-5577dc90]{font-size:45px;color:#8c939d;width:200px;height:200px;line-height:200px;text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/home/lytton/文档/work/learn/src/admin/views/localProds/allLocalProds.vue\"],\"names\":[],\"mappings\":\"AACA,6BACE,YAAa,AACb,wCAA6C,AAC7C,cAAe,AACf,yBAA0B,AAC1B,gBAAiB,AACjB,kBAAmB,AACnB,gBAAkB,CACnB,AACD,oCACA,6BACI,aAAc,AACd,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CACtB,CACA,AACD,+BACE,iBAAkB,AAClB,6CAAkD,AAC1C,qCAA0C,AAClD,mBAAoB,AACpB,YAAc,CACf,AACD,oCACA,+BACI,gBAAiB,AACjB,WAAa,CAChB,CACA,AACD,qCACE,iBAAkB,AAClB,6CAAkD,AAC1C,qCAA0C,AAClD,mBAAoB,AACpB,YAAc,CACf,AACD,oCACA,qCACI,gBAAiB,AACjB,WAAa,CAChB,CACA,AACD,kDACE,SAAW,CACZ,AACD,gDACE,SAAW,CACZ,AACD,mCACE,iBAAkB,AAClB,6CAAkD,AAC1C,qCAA0C,AAClD,mBAAoB,AACpB,YAAc,CACf,AACD,oCACA,mCACI,gBAAiB,AACjB,WAAa,CAChB,CACA,AACD,gDACE,WAAY,AACZ,YAAa,AACb,kBAAoB,CACrB,AACD,mCACE,eAAiB,CAClB,AACD,8CACE,UAAY,CACb,AACD,8CACE,eAAmB,CACpB,AACD,+CACE,YAAa,AACb,aAAc,AACd,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,eAAiB,CAClB,AACD,0DACE,UAAY,CACb,AACD,mEACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB\",\"file\":\"allLocalProds.vue\",\"sourcesContent\":[\"\\n.leftborder[data-v-5577dc90] {\\n  height: 60px;\\n  border-left: 4px solid rgba(12, 65, 38, 0.6);\\n  margin: 0 15px;\\n  background-color: #f2f3f2;\\n  text-align: left;\\n  padding-left: 20px;\\n  line-height: 60px;\\n}\\n@media screen and (max-width: 768px) {\\n.leftborder[data-v-5577dc90] {\\n    margin: 0 1px;\\n    height: 45px;\\n    line-height: 45px;\\n    padding-left: 15px;\\n}\\n}\\n.learncontent[data-v-5577dc90] {\\n  margin: 20px 15px;\\n  -webkit-box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\\n          box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\\n  border-radius: 10px;\\n  padding: 10px;\\n}\\n@media screen and (max-width: 768px) {\\n.learncontent[data-v-5577dc90] {\\n    margin: 10px 1px;\\n    padding: 2px;\\n}\\n}\\n.section .serchprod[data-v-5577dc90] {\\n  margin: 20px 15px;\\n  -webkit-box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\\n          box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\\n  border-radius: 10px;\\n  padding: 10px;\\n}\\n@media screen and (max-width: 768px) {\\n.section .serchprod[data-v-5577dc90] {\\n    margin: 10px 1px;\\n    padding: 2px;\\n}\\n}\\n.section .serchprod .serch-input[data-v-5577dc90] {\\n  width: 70%;\\n}\\n.section .serchprod .serch-btn[data-v-5577dc90] {\\n  width: 29%;\\n}\\n.section .allprod[data-v-5577dc90] {\\n  margin: 20px 15px;\\n  -webkit-box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\\n          box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\\n  border-radius: 10px;\\n  padding: 10px;\\n}\\n@media screen and (max-width: 768px) {\\n.section .allprod[data-v-5577dc90] {\\n    margin: 10px 1px;\\n    padding: 2px;\\n}\\n}\\n.section .allprod .table-image[data-v-5577dc90] {\\n  width: 60px;\\n  height: 60px;\\n  border-radius: 30px;\\n}\\n.section .el-form[data-v-5577dc90] {\\n  text-align: left;\\n}\\n.section .el-form .el-select[data-v-5577dc90] {\\n  width: 100%;\\n}\\n.section .el-form .el-switch[data-v-5577dc90] {\\n  margin: 10px 0 0 0;\\n}\\n.section .el-form .prod-image[data-v-5577dc90] {\\n  width: 200px;\\n  height: 200px;\\n  border: 1px dashed #d9d9d9;\\n  border-radius: 6px;\\n  cursor: pointer;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.section .el-form .prod-image .cur-image[data-v-5577dc90] {\\n  width: 100%;\\n}\\n.section .el-form .prod-image .prod-uploader-icon[data-v-5577dc90] {\\n  font-size: 45px;\\n  color: #8c939d;\\n  width: 200px;\\n  height: 200px;\\n  line-height: 200px;\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"hblM\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"aTLI\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"ab9a021c\", content, true, {});\n\n/***/ }),\n\n/***/ \"jNAU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section\"},[_c('div',{staticClass:\"allprod\"},[_c('h4',[_vm._v(\"所有商品\")]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.prods}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"商品名\",\"min-width\":\"40%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sellnum\",\"label\":\"总销量\",\"min-width\":\"10%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"价格\",\"min-width\":\"10%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"image\",\"label\":\"图片\",\"min-width\":\"20%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"table-image\",attrs:{\"src\":scope.row.image,\"alt\":\"\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"20%\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.EditProd(scope.$index, scope.row)}}},[_vm._v(\"编辑商品\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑商品\",\"visible\":_vm.dialogFormVisible,\"width\":\"90%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"editprod\",attrs:{\"rules\":_vm.prodrules,\"model\":_vm.editprod}},[_c('el-form-item',{attrs:{\"label\":\"商品名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入商品名\"},model:{value:(_vm.editprod.name),callback:function ($$v) {_vm.$set(_vm.editprod, \"name\", $$v)},expression:\"editprod.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"价格\",\"prop\":\"price\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入商品价格\"},model:{value:(_vm.editprod.price),callback:function ($$v) {_vm.$set(_vm.editprod, \"price\", _vm._n($$v))},expression:\"editprod.price\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品主图\",\"prop\":\"image\"}},[_c('qiniu-upload',{key:_vm.imageUrl,ref:\"qnupload\",attrs:{\"url\":_vm.imageUrl,\"width\":\"200\",\"height\":\"200\",\"fontSize\":\"40\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品简介\",\"prop\":\"desc\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请请输入商品简介\"},model:{value:(_vm.editprod.desc),callback:function ($$v) {_vm.$set(_vm.editprod, \"desc\", $$v)},expression:\"editprod.desc\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品详情\",\"prop\":\"info\"}},[_c('md-upload',{key:_vm.editprod.info,ref:\"mdedit\",attrs:{\"info\":_vm.editprod.info}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.exitEdit}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitEdit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"yFxB\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api_adminApi__ = __webpack_require__(\"7g/s\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  // ..\n  data: function data() {\n    return {\n      prodName: '',\n      prods: [],\n      dialogFormVisible: false,\n      imageUrl: '',\n      editprod: {\n        name: '',\n        price: '',\n        desc: '',\n        info: ''\n      },\n      prodrules: {\n        name: [{\n          required: true,\n          message: '请输入商品名',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 15,\n          message: '长度在 3 到 15 个字',\n          trigger: 'blur'\n        }],\n        price: [{\n          required: true,\n          message: '请输入商品价格',\n          trigger: 'blur'\n        }, {\n          type: 'number',\n          message: '价格必须是数字',\n          trigger: 'blur'\n        }],\n        desc: [{\n          required: true,\n          message: '请输入商品简介',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n\n  methods: {\n    // 获取所有商品\n    getallprods: function getallprods() {\n      var _this = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_0__api_adminApi__[\"E\" /* getAllLocalProds */])().then(function (res) {\n        console.log(res);\n        _this.prods = res.data;\n      });\n    },\n\n    // 编辑商品\n    EditProd: function EditProd(row, rowIndex) {\n      this.editprod = rowIndex;\n      this.imageUrl = rowIndex.image;\n      this.dialogFormVisible = true;\n      // console.log(this.imageUrl)\n    },\n\n    // 退出编辑商品\n    exitEdit: function exitEdit() {\n      this.dialogFormVisible = false;\n    },\n\n    // 确认修改并提交\n    submitEdit: function submitEdit() {\n      var _this2 = this;\n\n      this.$refs.editprod.validate(function (valid) {\n        if (valid) {\n          var updatedParams = {\n            id: _this2.editprod._id,\n            name: _this2.editprod.name,\n            price: _this2.editprod.price,\n            image: _this2.$refs.qnupload.imageUrl,\n            desc: _this2.editprod.desc,\n            info: _this2.$refs.mdedit.mdinfo\n            // console.log(updatedParams)\n          };Object(__WEBPACK_IMPORTED_MODULE_0__api_adminApi__[\"D\" /* editLocalProd */])(updatedParams).then(function (res) {\n            _this2.$notify({\n              title: '商品修改成功',\n              message: res.data.name,\n              type: 'success',\n              offset: 100\n            });\n            _this2.dialogFormVisible = false;\n            _this2.getallprods();\n          });\n        } else {\n          _this2.$message({\n            type: 'danger',\n            message: '请验证后再提交修改'\n          });\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getallprods();\n  }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.23704512549a792f2363.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5577dc90\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./allLocalProds.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./allLocalProds.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./allLocalProds.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5577dc90\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./allLocalProds.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5577dc90\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/admin/views/localProds/allLocalProds.vue\n// module id = 6XPi\n// module chunks = 1","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".leftborder[data-v-5577dc90]{height:60px;border-left:4px solid rgba(12,65,38,.6);margin:0 15px;background-color:#f2f3f2;text-align:left;padding-left:20px;line-height:60px}@media screen and (max-width:768px){.leftborder[data-v-5577dc90]{margin:0 1px;height:45px;line-height:45px;padding-left:15px}}.learncontent[data-v-5577dc90]{margin:20px 15px;-webkit-box-shadow:0 0 5px rgba(12,65,38,.6);box-shadow:0 0 5px rgba(12,65,38,.6);border-radius:10px;padding:10px}@media screen and (max-width:768px){.learncontent[data-v-5577dc90]{margin:10px 1px;padding:2px}}.section .serchprod[data-v-5577dc90]{margin:20px 15px;-webkit-box-shadow:0 0 5px rgba(12,65,38,.6);box-shadow:0 0 5px rgba(12,65,38,.6);border-radius:10px;padding:10px}@media screen and (max-width:768px){.section .serchprod[data-v-5577dc90]{margin:10px 1px;padding:2px}}.section .serchprod .serch-input[data-v-5577dc90]{width:70%}.section .serchprod .serch-btn[data-v-5577dc90]{width:29%}.section .allprod[data-v-5577dc90]{margin:20px 15px;-webkit-box-shadow:0 0 5px rgba(12,65,38,.6);box-shadow:0 0 5px rgba(12,65,38,.6);border-radius:10px;padding:10px}@media screen and (max-width:768px){.section .allprod[data-v-5577dc90]{margin:10px 1px;padding:2px}}.section .allprod .table-image[data-v-5577dc90]{width:60px;height:60px;border-radius:30px}.section .el-form[data-v-5577dc90]{text-align:left}.section .el-form .el-select[data-v-5577dc90]{width:100%}.section .el-form .el-switch[data-v-5577dc90]{margin:10px 0 0}.section .el-form .prod-image[data-v-5577dc90]{width:200px;height:200px;border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.section .el-form .prod-image .cur-image[data-v-5577dc90]{width:100%}.section .el-form .prod-image .prod-uploader-icon[data-v-5577dc90]{font-size:45px;color:#8c939d;width:200px;height:200px;line-height:200px;text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/home/lytton/文档/work/learn/src/admin/views/localProds/allLocalProds.vue\"],\"names\":[],\"mappings\":\"AACA,6BACE,YAAa,AACb,wCAA6C,AAC7C,cAAe,AACf,yBAA0B,AAC1B,gBAAiB,AACjB,kBAAmB,AACnB,gBAAkB,CACnB,AACD,oCACA,6BACI,aAAc,AACd,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CACtB,CACA,AACD,+BACE,iBAAkB,AAClB,6CAAkD,AAC1C,qCAA0C,AAClD,mBAAoB,AACpB,YAAc,CACf,AACD,oCACA,+BACI,gBAAiB,AACjB,WAAa,CAChB,CACA,AACD,qCACE,iBAAkB,AAClB,6CAAkD,AAC1C,qCAA0C,AAClD,mBAAoB,AACpB,YAAc,CACf,AACD,oCACA,qCACI,gBAAiB,AACjB,WAAa,CAChB,CACA,AACD,kDACE,SAAW,CACZ,AACD,gDACE,SAAW,CACZ,AACD,mCACE,iBAAkB,AAClB,6CAAkD,AAC1C,qCAA0C,AAClD,mBAAoB,AACpB,YAAc,CACf,AACD,oCACA,mCACI,gBAAiB,AACjB,WAAa,CAChB,CACA,AACD,gDACE,WAAY,AACZ,YAAa,AACb,kBAAoB,CACrB,AACD,mCACE,eAAiB,CAClB,AACD,8CACE,UAAY,CACb,AACD,8CACE,eAAmB,CACpB,AACD,+CACE,YAAa,AACb,aAAc,AACd,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,eAAiB,CAClB,AACD,0DACE,UAAY,CACb,AACD,mEACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB\",\"file\":\"allLocalProds.vue\",\"sourcesContent\":[\"\\n.leftborder[data-v-5577dc90] {\\n  height: 60px;\\n  border-left: 4px solid rgba(12, 65, 38, 0.6);\\n  margin: 0 15px;\\n  background-color: #f2f3f2;\\n  text-align: left;\\n  padding-left: 20px;\\n  line-height: 60px;\\n}\\n@media screen and (max-width: 768px) {\\n.leftborder[data-v-5577dc90] {\\n    margin: 0 1px;\\n    height: 45px;\\n    line-height: 45px;\\n    padding-left: 15px;\\n}\\n}\\n.learncontent[data-v-5577dc90] {\\n  margin: 20px 15px;\\n  -webkit-box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\\n          box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\\n  border-radius: 10px;\\n  padding: 10px;\\n}\\n@media screen and (max-width: 768px) {\\n.learncontent[data-v-5577dc90] {\\n    margin: 10px 1px;\\n    padding: 2px;\\n}\\n}\\n.section .serchprod[data-v-5577dc90] {\\n  margin: 20px 15px;\\n  -webkit-box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\\n          box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\\n  border-radius: 10px;\\n  padding: 10px;\\n}\\n@media screen and (max-width: 768px) {\\n.section .serchprod[data-v-5577dc90] {\\n    margin: 10px 1px;\\n    padding: 2px;\\n}\\n}\\n.section .serchprod .serch-input[data-v-5577dc90] {\\n  width: 70%;\\n}\\n.section .serchprod .serch-btn[data-v-5577dc90] {\\n  width: 29%;\\n}\\n.section .allprod[data-v-5577dc90] {\\n  margin: 20px 15px;\\n  -webkit-box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\\n          box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\\n  border-radius: 10px;\\n  padding: 10px;\\n}\\n@media screen and (max-width: 768px) {\\n.section .allprod[data-v-5577dc90] {\\n    margin: 10px 1px;\\n    padding: 2px;\\n}\\n}\\n.section .allprod .table-image[data-v-5577dc90] {\\n  width: 60px;\\n  height: 60px;\\n  border-radius: 30px;\\n}\\n.section .el-form[data-v-5577dc90] {\\n  text-align: left;\\n}\\n.section .el-form .el-select[data-v-5577dc90] {\\n  width: 100%;\\n}\\n.section .el-form .el-switch[data-v-5577dc90] {\\n  margin: 10px 0 0 0;\\n}\\n.section .el-form .prod-image[data-v-5577dc90] {\\n  width: 200px;\\n  height: 200px;\\n  border: 1px dashed #d9d9d9;\\n  border-radius: 6px;\\n  cursor: pointer;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.section .el-form .prod-image .cur-image[data-v-5577dc90] {\\n  width: 100%;\\n}\\n.section .el-form .prod-image .prod-uploader-icon[data-v-5577dc90] {\\n  font-size: 45px;\\n  color: #8c939d;\\n  width: 200px;\\n  height: 200px;\\n  line-height: 200px;\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5577dc90\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/admin/views/localProds/allLocalProds.vue\n// module id = aTLI\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5577dc90\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./allLocalProds.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"ab9a021c\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5577dc90\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/admin/views/localProds/allLocalProds.vue\n// module id = hblM\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section\"},[_c('div',{staticClass:\"allprod\"},[_c('h4',[_vm._v(\"所有商品\")]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.prods}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"商品名\",\"min-width\":\"40%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sellnum\",\"label\":\"总销量\",\"min-width\":\"10%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"价格\",\"min-width\":\"10%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"image\",\"label\":\"图片\",\"min-width\":\"20%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"table-image\",attrs:{\"src\":scope.row.image,\"alt\":\"\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"20%\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.EditProd(scope.$index, scope.row)}}},[_vm._v(\"编辑商品\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑商品\",\"visible\":_vm.dialogFormVisible,\"width\":\"90%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"editprod\",attrs:{\"rules\":_vm.prodrules,\"model\":_vm.editprod}},[_c('el-form-item',{attrs:{\"label\":\"商品名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入商品名\"},model:{value:(_vm.editprod.name),callback:function ($$v) {_vm.$set(_vm.editprod, \"name\", $$v)},expression:\"editprod.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"价格\",\"prop\":\"price\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入商品价格\"},model:{value:(_vm.editprod.price),callback:function ($$v) {_vm.$set(_vm.editprod, \"price\", _vm._n($$v))},expression:\"editprod.price\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品主图\",\"prop\":\"image\"}},[_c('qiniu-upload',{key:_vm.imageUrl,ref:\"qnupload\",attrs:{\"url\":_vm.imageUrl,\"width\":\"200\",\"height\":\"200\",\"fontSize\":\"40\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品简介\",\"prop\":\"desc\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请请输入商品简介\"},model:{value:(_vm.editprod.desc),callback:function ($$v) {_vm.$set(_vm.editprod, \"desc\", $$v)},expression:\"editprod.desc\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品详情\",\"prop\":\"info\"}},[_c('md-upload',{key:_vm.editprod.info,ref:\"mdedit\",attrs:{\"info\":_vm.editprod.info}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.exitEdit}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitEdit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5577dc90\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/admin/views/localProds/allLocalProds.vue\n// module id = jNAU\n// module chunks = 1","<template>\n  <div class=\"section\">\n    <!-- 所有商品 -->\n    <div class=\"allprod\">\n      <h4>所有商品</h4>\n      <el-table\n        :data=\"prods\"\n        style=\"width: 100%\">\n        <el-table-column\n          prop=\"name\"\n          label=\"商品名\"\n          min-width=\"40%\">\n        </el-table-column>\n        <el-table-column\n          prop=\"sellnum\"\n          label=\"总销量\"\n          min-width=\"10%\">\n        </el-table-column>\n        <el-table-column\n          prop=\"price\"\n          label=\"价格\"\n          min-width=\"10%\">\n        </el-table-column>\n        <el-table-column\n          prop=\"image\"\n          label=\"图片\"\n          min-width=\"20%\">\n          <template slot-scope=\"scope\">\n            <img class=\"table-image\" :src=\"scope.row.image\" alt=\"\">\n          </template>\n        </el-table-column>\n        <el-table-column\n          min-width=\"20%\"\n          label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"danger\"\n              @click=\"EditProd(scope.$index, scope.row)\">编辑商品</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <!-- 编辑商品 -->\n    <el-dialog title=\"编辑商品\" :visible.sync=\"dialogFormVisible\" width=\"90%\">\n      <el-form ref=\"editprod\" :rules=\"prodrules\" :model=\"editprod\">\n        <el-form-item label=\"商品名\" prop=\"name\">\n          <el-input v-model=\"editprod.name\" placeholder=\"请输入商品名\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"价格\" prop=\"price\">\n          <el-input v-model.number=\"editprod.price\" placeholder=\"请输入商品价格\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品主图\" prop=\"image\">\n          <qiniu-upload :key=\"imageUrl\" :url=\"imageUrl\" width=\"200\" height=\"200\" fontSize=\"40\" ref=\"qnupload\"></qiniu-upload>\n        </el-form-item>\n        \n        <el-form-item label=\"商品简介\" prop=\"desc\">\n          <el-input type=\"textarea\" v-model=\"editprod.desc\" placeholder=\"请请输入商品简介\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"商品详情\" prop=\"info\">\n          <!-- <mavon-editor  ref=\"md\" @imgAdd=\"$imgAdd\" @imgDel=\"$imgDel\" v-model=\"editprod.info\"></mavon-editor> -->\n          <md-upload :key=\"editprod.info\" :info=\"editprod.info\" ref=\"mdedit\"></md-upload>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"exitEdit\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitEdit\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n  \n</template>\n<script>\nimport {getAllLocalProds, editLocalProd} from '../../../api/adminApi'\nexport default {\n  // ..\n  data () {\n    return {\n      prodName: '',\n      prods: [],\n      dialogFormVisible: false,\n      imageUrl: '',\n      editprod: {\n        name: '',\n        price: '',\n        desc: '',\n        info: ''\n      },\n      prodrules: {\n        name: [\n          {\n            required: true,\n            message: '请输入商品名',\n            trigger: 'blur'\n          },\n          {\n            min: 3,\n            max: 15,\n            message: '长度在 3 到 15 个字',\n            trigger: 'blur'\n          }\n        ],\n        price: [\n          {\n            required: true,\n            message: '请输入商品价格',\n            trigger: 'blur'\n          },\n          {\n            type: 'number',\n            message: '价格必须是数字',\n            trigger: 'blur'\n          }\n        ],\n        desc: [\n          {\n            required: true,\n            message: '请输入商品简介',\n            trigger: 'blur'\n          }\n        ]\n      }\n    }\n  },\n  methods: {\n    // 获取所有商品\n    getallprods () {\n      getAllLocalProds().then(res => {\n        console.log(res)\n        this.prods = res.data\n      })\n    },\n    // 编辑商品\n    EditProd (row, rowIndex) {\n      this.editprod = rowIndex\n      this.imageUrl = rowIndex.image\n      this.dialogFormVisible = true\n      // console.log(this.imageUrl)\n    },\n    // 退出编辑商品\n    exitEdit () {\n      this.dialogFormVisible = false\n    },\n    // 确认修改并提交\n    submitEdit () {\n      this.$refs.editprod.validate(valid => {\n        if (valid) {\n          const updatedParams = {\n            id: this.editprod._id,\n            name: this.editprod.name,\n            price: this.editprod.price,\n            image: this.$refs.qnupload.imageUrl,\n            desc: this.editprod.desc,\n            info: this.$refs.mdedit.mdinfo\n          }\n          // console.log(updatedParams)\n          editLocalProd(updatedParams).then(res => {\n            this.$notify({\n              title: '商品修改成功',\n              message: res.data.name,\n              type: 'success',\n              offset: 100\n            })\n            this.dialogFormVisible = false\n            this.getallprods()\n          })\n        } else {\n          this.$message({\n            type: 'danger',\n            message: '请验证后再提交修改'\n          })\n        }\n      })\n    }\n  },\n  mounted () {\n    this.getallprods()\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n@import '../../../common/less/index.less';\n.section {\n  .serchprod {\n    .learncontent;\n    .serch-input {\n      width: 70%;\n    }\n    .serch-btn {\n      width: 29%;\n    }\n  }\n  .allprod {\n    .learncontent;\n    .table-image {\n      width: 60px;\n      height: 60px;\n      border-radius: 30px;\n    }\n  }\n  .el-form {\n    text-align: left;\n    .el-select {\n      width: 100%;\n    }\n    .el-switch {\n      margin: 10px 0 0 0;\n    }\n    .prod-image {\n      width: 200px;\n      height: 200px;\n      border: 1px dashed #d9d9d9;\n      border-radius: 6px;\n      cursor: pointer;\n      position: relative;\n      overflow: hidden;\n      .cur-image {\n        width: 100%;\n      }\n      .prod-uploader-icon {\n        font-size: 45px;\n        color: #8c939d;\n        width: 200px;\n        height: 200px;\n        line-height: 200px;\n        text-align: center;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/admin/views/localProds/allLocalProds.vue"],"sourceRoot":""}